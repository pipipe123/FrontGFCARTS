{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FaBars,FaArrowLeft}from'react-icons/fa';import{CgGym}from\"react-icons/cg\";import HeaderHome from'../components/header-home';import{useNavigate,useLocation}from'react-router-dom';import{getEscuela}from'../services/AuthService.js';import'../css/menuprincipal.css';import'../css/general.css';import{useManejoSesion}from'../services/sesion.js';import{getGimnasiosCount,getCompetidoresCount,getCinturonesNegrosCount}from'../services/compServices.js';import{MdEmojiEvents}from\"react-icons/md\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MenuPrincipal(){const[escuela,setEscuela]=useState('');const[gimnasiosCount,setGimnasiosCount]=useState(0);const[competidoresCount,setCompetidoresCount]=useState(0);const[cinturonesNegrosCount,setCinturonesNegrosCount]=useState(0);const[usuario,setUsuario]=useState('');const location=useLocation();const navigate=useNavigate();useEffect(()=>{const user=location.state?.usuario||null;setUsuario(user);useManejoSesion(user,navigate);},[location.state]);useEffect(()=>{const recuperarDatos=async usuario=>{try{const escuelaResult=await getEscuela(usuario);setEscuela(escuelaResult);const gimnasiosCountResult=await getGimnasiosCount(escuelaResult);setGimnasiosCount(gimnasiosCountResult);const competidoresCountResult=await getCompetidoresCount(escuelaResult);setCompetidoresCount(competidoresCountResult);const cinturonesNegrosCountResult=await getCinturonesNegrosCount(escuelaResult);setCinturonesNegrosCount(cinturonesNegrosCountResult);}catch(error){console.error('Error al recuperar los datos:',error);}};if(usuario){recuperarDatos(usuario);}},[usuario]);const onBack=()=>{navigate('/');};const gyms=()=>{navigate('/Mis_Gimnasios',{state:{escuela:escuela,usuario:usuario}});};const events=()=>{navigate('/Torneos',{state:{escuela:escuela,usuario:usuario}});};return _jsxs(\"div\",{className:\"container\",children:[_jsx(HeaderHome,{usuario:usuario}),_jsx(\"div\",{className:\"sidebar\",children:_jsxs(\"ul\",{children:[_jsx(\"li\",{children:_jsx(FaBars,{className:\"menu-icon-main\"})}),_jsx(\"li\",{children:_jsxs(\"button\",{onClick:gyms,children:[_jsx(CgGym,{className:\"menu-icon\"}),_jsx(\"p\",{children:\"Gimnasios\"})]})}),_jsx(\"li\",{children:_jsxs(\"button\",{onClick:events,children:[_jsx(MdEmojiEvents,{className:\"menu-icon\"}),_jsx(\"p\",{children:\"Eventos\"})]})})]})}),_jsxs(\"div\",{className:\"content-menuprincipal\",children:[_jsxs(\"div\",{className:\"content-principal\",children:[_jsx(\"table\",{children:_jsxs(\"tr\",{className:\"fila-1\",children:[_jsx(\"td\",{children:_jsxs(\"div\",{className:\"letrero\",children:[_jsx(\"h1\",{children:\"Competidores\"}),_jsx(\"p\",{children:competidoresCount})]})}),_jsx(\"td\",{children:_jsxs(\"div\",{className:\"letrero\",children:[_jsx(\"h1\",{children:\"Gimnasios\"}),_jsx(\"p\",{children:gimnasiosCount})]})}),_jsx(\"td\",{children:_jsxs(\"div\",{className:\"letrero\",children:[_jsx(\"h1\",{children:\"Cintas negras\"}),_jsx(\"p\",{children:cinturonesNegrosCount})]})})]})}),_jsx(\"table\",{children:_jsxs(\"tr\",{children:[_jsx(\"td\",{className:\"fila-2\",children:_jsxs(\"div\",{className:\"admin\",children:[_jsx(\"h1\",{children:\"Admin\"}),_jsx(\"p\",{children:\"Coming soon...\"})]})}),_jsx(\"td\",{className:\"fila-2\",colSpan:2,children:_jsxs(\"div\",{className:\"notas-version\",children:[_jsx(\"h2\",{children:\"Notas de versi\\xF3n:\"}),_jsx(\"hr\",{className:\"divider\"}),_jsx(\"p\",{children:\"No hay nada que ver a\\xFAn...\"})]})})]})}),_jsx(\"table\",{className:\"fila-3\",children:_jsxs(\"tr\",{children:[_jsx(\"td\",{children:_jsx(\"div\",{className:\"algomas\",children:_jsx(\"h3\",{children:\"Coming soon...\"})})}),_jsx(\"td\",{children:_jsx(\"div\",{className:\"algomas\",children:_jsx(\"h3\",{children:\"Coming soon...\"})})})]})})]}),_jsx(\"div\",{className:\"fondo-principal\",children:_jsx(\"img\",{src:\"../assets/fondo-principal.jpg\",alt:\"Fondo Principal\"})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","FaBars","FaArrowLeft","CgGym","HeaderHome","useNavigate","useLocation","getEscuela","useManejoSesion","getGimnasiosCount","getCompetidoresCount","getCinturonesNegrosCount","MdEmojiEvents","jsx","_jsx","jsxs","_jsxs","MenuPrincipal","escuela","setEscuela","gimnasiosCount","setGimnasiosCount","competidoresCount","setCompetidoresCount","cinturonesNegrosCount","setCinturonesNegrosCount","usuario","setUsuario","location","navigate","user","state","recuperarDatos","escuelaResult","gimnasiosCountResult","competidoresCountResult","cinturonesNegrosCountResult","error","console","onBack","gyms","events","className","children","onClick","colSpan","src","alt"],"sources":["C:/Estadias/FrontGFCARTS/screens/menuprincipal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaBars, FaArrowLeft,} from 'react-icons/fa';\r\nimport { CgGym } from \"react-icons/cg\";\r\nimport HeaderHome from '../components/header-home';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { getEscuela } from '../services/AuthService.js';\r\nimport '../css/menuprincipal.css';\r\nimport '../css/general.css';\r\nimport { useManejoSesion } from '../services/sesion.js';\r\nimport { getGimnasiosCount, getCompetidoresCount, getCinturonesNegrosCount } from '../services/compServices.js';\r\nimport { MdEmojiEvents } from \"react-icons/md\";\r\nexport default function MenuPrincipal() {\r\n  const [escuela, setEscuela] = useState('');\r\n  const [gimnasiosCount, setGimnasiosCount] = useState(0);\r\n  const [competidoresCount, setCompetidoresCount] = useState(0);\r\n  const [cinturonesNegrosCount, setCinturonesNegrosCount] = useState(0);\r\n  const [usuario, setUsuario] = useState('');\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Asegúrate de que `usuario` se inicializa correctamente\r\n    const user = location.state?.usuario || null;\r\n    setUsuario(user);\r\n     // Verifica el valor aquí\r\n    useManejoSesion(user,navigate);\r\n  }, [location.state]);\r\n\r\n  // Usa el hook para manejar la sesión\r\n\r\n  useEffect(() => {\r\n    // console.log('Usuario en MenuPrincipal:', usuario);\r\n    const recuperarDatos = async (usuario) => {\r\n      try {\r\n        const escuelaResult = await getEscuela(usuario);\r\n        setEscuela(escuelaResult);\r\n        const gimnasiosCountResult = await getGimnasiosCount(escuelaResult);\r\n        setGimnasiosCount(gimnasiosCountResult);\r\n        const competidoresCountResult = await getCompetidoresCount(escuelaResult);\r\n        setCompetidoresCount(competidoresCountResult);\r\n        const cinturonesNegrosCountResult = await getCinturonesNegrosCount(escuelaResult);\r\n        setCinturonesNegrosCount(cinturonesNegrosCountResult);\r\n      } catch (error) {\r\n        console.error('Error al recuperar los datos:', error);\r\n      }\r\n    };\r\n\r\n    if (usuario) {\r\n      recuperarDatos(usuario);\r\n    }\r\n  }, [usuario]);\r\n\r\n  const onBack = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  const gyms = () => {\r\n    navigate('/Mis_Gimnasios', { state: { escuela: escuela, usuario: usuario } });\r\n  };\r\n  const events = () => {\r\n    navigate('/Torneos', { state: { escuela: escuela, usuario: usuario } });\r\n  };\r\n  return (\r\n    <div className='container'>\r\n      <HeaderHome  usuario={usuario} />\r\n      <div className='sidebar'>\r\n        <ul>\r\n          <li><FaBars className=\"menu-icon-main\" /></li>\r\n\r\n          <li><button onClick={gyms}><CgGym className=\"menu-icon\"/><p>Gimnasios</p></button></li>\r\n          <li><button onClick={events}><MdEmojiEvents className=\"menu-icon\"/><p>Eventos</p></button></li>\r\n        </ul>\r\n      </div>\r\n      <div className='content-menuprincipal'>\r\n        <div className='content-principal'>\r\n          <table>\r\n            <tr className='fila-1'>\r\n              <td><div className='letrero'>\r\n                <h1>Competidores</h1>\r\n                <p>{competidoresCount}</p>\r\n              </div></td>\r\n              <td><div className='letrero'>\r\n                <h1>Gimnasios</h1>\r\n                <p>{gimnasiosCount}</p>\r\n              </div></td>\r\n              <td><div className='letrero'>\r\n                <h1>Cintas negras</h1>\r\n                <p>{cinturonesNegrosCount}</p>\r\n              </div></td>\r\n            </tr>\r\n          </table>\r\n          <table>\r\n            <tr>\r\n              <td className='fila-2'>\r\n                <div className='admin'>\r\n                  <h1>Admin</h1>\r\n                  <p>Coming soon...</p>\r\n                </div>\r\n              </td>\r\n              <td className='fila-2' colSpan={2}>\r\n                <div className='notas-version'>\r\n                  <h2>Notas de versión:</h2>\r\n                  <hr className='divider' />\r\n                  <p>No hay nada que ver aún...</p>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n          <table className='fila-3'>\r\n            <tr>\r\n              <td><div className='algomas'><h3>Coming soon...</h3></div></td>\r\n              <td><div className='algomas'><h3>Coming soon...</h3></div></td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n        <div className='fondo-principal'>\r\n          <img src=\"../assets/fondo-principal.jpg\" alt=\"Fondo Principal\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}