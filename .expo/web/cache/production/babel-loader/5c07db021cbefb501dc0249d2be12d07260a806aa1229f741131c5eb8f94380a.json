{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React from'react';import{useForm}from'react-hook-form';import'../css/general.css';import'../css/login.css';import{useNavigate}from'react-router-dom';import{login}from'../services/AuthService';import{FaArrowLeft}from'react-icons/fa';import Swal from'sweetalert2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const navigate=useNavigate();const{register,handleSubmit,formState:{errors}}=useForm();const goToHome=()=>{navigate('/');};const onSubmit=async data=>{try{const response=await login(data);if(response.status===200){Swal.fire({title:'Inicio de sesión exitoso',text:'Ahora puedes acceder al sistema.',icon:'success',confirmButtonText:'Ir al inicio'}).then(result=>{if(result.isConfirmed){navigate('/home',{state:{usuario:data.usuario}});}});}else{Swal.fire({title:'Error',text:response.data,icon:'error',confirmButtonText:'Intentar de nuevo'});}}catch(error){Swal.fire({title:'Error',text:'Ocurrió un error al intentar iniciar sesión. Por favor, inténtalo de nuevo.',icon:'error',confirmButtonText:'Intentar de nuevo'});}};const goToSignup=()=>{document.querySelector('.contenedor-1').classList.add('slide-in');setTimeout(()=>navigate('/Registro'),1000);};return _jsxs(\"div\",{className:\"contenedor-1\",children:[_jsx(\"div\",{className:\"side-1\",children:_jsx(\"div\",{className:\"side-content-1\",children:_jsx(\"table\",{children:_jsxs(\"tbody\",{children:[_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"h1\",{children:\"\\xA1Bienvenido!\"})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"h3\",{children:\"\\xBFA\\xFAn no tienes una cuenta?\"})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"div\",{className:\"separador\"})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"button\",{onClick:goToSignup,children:\"Registrarse\"})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"br\",{})})}),_jsx(\"tr\",{children:_jsxs(\"td\",{children:[\" \",_jsx(\"button\",{onClick:goToHome,children:_jsx(FaArrowLeft,{})})]})})]})})})}),_jsx(\"div\",{className:\"fondo-1\",children:_jsx(\"img\",{src:\"../assets/fondo_signup2.jpg\",alt:\"Fondo\"})}),_jsx(\"div\",{className:\"forms-1\",children:_jsx(\"div\",{className:\"forms-content\",children:_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:_jsx(\"table\",{children:_jsxs(\"tbody\",{children:[_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"h1\",{children:\"Inicia sesi\\xF3n\"})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsxs(\"div\",{className:\"formularios\",children:[_jsx(\"img\",{src:\"../assets/user.png\",className:\"icon\",alt:\"Icono Nombre\"}),_jsx(\"input\",_objectSpread(_objectSpread({},register('usuario',{required:true})),{},{placeholder:\"Nombre\"}))]})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsxs(\"div\",{className:\"formularios\",children:[_jsx(\"img\",{src:\"../assets/envelope.png\",className:\"icon\",alt:\"Icono Correo\"}),_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\"},register('correo',{required:true,pattern:{value:/^[a-zA-Z0-9._%+-]+@gmail.com$/,message:\"El correo debe ser de dominio @gmail.com\"}})),{},{placeholder:\"Correo\"}))]})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsxs(\"div\",{className:\"formularios\",children:[_jsx(\"img\",{src:\"../assets/lock.png\",className:\"icon\",alt:\"Icono Contrase\\xF1a\"}),_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\"},register('pass',{required:true})),{},{placeholder:\"Contrase\\xF1a\"}))]})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"div\",{className:\"separador2\"})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"button\",{type:\"submit\",children:\"Iniciar sesi\\xF3n\"})})}),_jsx(\"tr\",{children:_jsx(\"td\",{children:_jsx(\"div\",{className:\"separador\"})})})]})})})})})]});}","map":{"version":3,"names":["React","useForm","useNavigate","login","FaArrowLeft","Swal","jsx","_jsx","jsxs","_jsxs","Login","navigate","register","handleSubmit","formState","errors","goToHome","onSubmit","data","response","status","fire","title","text","icon","confirmButtonText","then","result","isConfirmed","state","usuario","error","goToSignup","document","querySelector","classList","add","setTimeout","className","children","onClick","src","alt","_objectSpread","required","placeholder","type","pattern","value","message"],"sources":["C:/Estadias/FrontGFCARTS/screens/login.js"],"sourcesContent":["import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport '../css/general.css';\r\nimport '../css/login.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { login } from '../services/AuthService';\r\nimport { FaArrowLeft } from 'react-icons/fa';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default function Login() {\r\n  const navigate = useNavigate();\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const goToHome = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      const response = await login(data);\r\n\r\n      if (response.status === 200) {\r\n        Swal.fire({\r\n          title: 'Inicio de sesión exitoso',\r\n          text: 'Ahora puedes acceder al sistema.',\r\n          icon: 'success',\r\n          confirmButtonText: 'Ir al inicio'\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            navigate('/home', { state: { usuario: data.usuario } });\r\n          }\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          title: 'Error',\r\n          text: response.data,\r\n          icon: 'error',\r\n          confirmButtonText: 'Intentar de nuevo'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      Swal.fire({\r\n        title: 'Error',\r\n        text: 'Ocurrió un error al intentar iniciar sesión. Por favor, inténtalo de nuevo.',\r\n        icon: 'error',\r\n        confirmButtonText: 'Intentar de nuevo'\r\n      });\r\n    }\r\n  };\r\n\r\n  const goToSignup = () => {\r\n    document.querySelector('.contenedor-1').classList.add('slide-in');\r\n    setTimeout(() => navigate('/Registro'), 1000);\r\n  };\r\n\r\n  return (\r\n    <div className='contenedor-1'>\r\n      <div className='side-1'>\r\n        <div className='side-content-1'>\r\n          <table>\r\n            <tbody>\r\n              <tr><td><h1>¡Bienvenido!</h1></td></tr>\r\n              <tr><td><h3>¿Aún no tienes una cuenta?</h3></td></tr>\r\n              <tr><td><div className='separador'></div></td></tr>\r\n              <tr><td><button onClick={goToSignup}>Registrarse</button></td></tr>\r\n              <tr><td><br/></td></tr>\r\n              <tr><td> <button onClick={goToHome}><FaArrowLeft  /></button></td></tr>\r\n\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className='fondo-1'>\r\n        <img src='../assets/fondo_signup2.jpg' alt=\"Fondo\" />\r\n      </div>\r\n      <div className='forms-1'>\r\n        <div className='forms-content'>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <table>\r\n              <tbody>\r\n                <tr><td><h1>Inicia sesión</h1></td></tr>\r\n                <tr>\r\n                  <td>\r\n                    <div className='formularios'>\r\n                      <img src='../assets/user.png' className='icon' alt=\"Icono Nombre\" />\r\n                      <input {...register('usuario', { required: true })} placeholder='Nombre' />\r\n                      {/* {errors.usuario && <span>Este campo es requerido</span>} */}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <div className='formularios'>\r\n                      <img src='../assets/envelope.png' className='icon' alt=\"Icono Correo\" />\r\n                      <input \r\n                        type=\"email\"\r\n                        {...register('correo', {\r\n                          required: true,\r\n                          pattern: {\r\n                            value: /^[a-zA-Z0-9._%+-]+@gmail.com$/,\r\n                            message: \"El correo debe ser de dominio @gmail.com\"\r\n                          }\r\n                        })}\r\n                        placeholder='Correo'\r\n                      />\r\n                      {/* {errors.correo && <span>{errors.correo.message}</span>} */}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <div className='formularios'>\r\n                      <img src='../assets/lock.png' className='icon' alt=\"Icono Contraseña\" />\r\n                      <input \r\n                        type=\"password\"\r\n                        {...register('pass', { required: true })}\r\n                        placeholder='Contraseña'\r\n                      />\r\n                      {/* {errors.pass && <span>Este campo es requerido</span>}  */}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr><td><div className='separador2'></div></td></tr>\r\n                <tr><td><button type=\"submit\">Iniciar sesión</button></td></tr>\r\n                <tr><td><div className='separador'></div></td></tr>\r\n              </tbody>\r\n            </table>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}